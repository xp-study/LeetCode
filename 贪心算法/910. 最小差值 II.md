#### 910. 最小差值 II

给你一个整数数组 `A`，对于每个整数 `A[i]`，必须选择 **`x = -K` 或是 `x = K`** （ `K` 总是非负整数），并将 `x` 加到 `A[i]` 中。

在此过程之后，得到数组 `B`。

返回 `B` 的最大值和 `B` 的最小值之间可能存在的最小差值。

**示例 1：**

```shell
输入：A = [1], K = 0
输出：0
解释：B = [1]
```

**示例 2：**

```shell
输入：A = [0,10], K = 2
输出：6
解释：B = [2,8]
```

**示例 3：**

```shell
输入：A = [1,3,6], K = 3
输出：3
解释：B = [4,6,3]
```

**提示：**

- `1 <= A.length <= 10000`
- `0 <= A[i] <= 10000`
- `0 <= K <= 10000`

## 题解

### 解题思路

数学题，首先题目给得有点问题，是-K和+K必须选一个；
先对数组进行排序。

那么，进行上面两种操作之后，最大值 max(A[n - 1] - K， A[i] + K)中产生；
最小值 min (A[0] + K, A[i - 1] + K)

编码的时候注意，按照中间值进行遍历。就是比如它作为中间值，就是从它之后减，在它之前加！

### 代码

```java
class Solution {
    public int smallestRangeII(int[] A, int K) {
        int length = A.length;
        // 数组排序
        Arrays.sort(A);
        // 可能的最坏结果：(最大值与最小值同时加上K，或者同时减去K)
        int result = A[length - 1] - A[0];
        for (int i = 1; i < length; i++) {
            // 以当前i为中间点时，可能的最小值
            int min = Math.min(A[0] + K, A[i] - K);
            // 以当前i为中间点时，可能的最大值
            int max = Math.max(A[length - 1] - K, A[i - 1] + K);
            // 中间点的最大值与最小值的最小差值
            result = Math.min(result, max - min);
        }
        return result;
    }
}
```



