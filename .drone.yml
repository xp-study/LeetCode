kind: pipeline # 定义对象类型，还有secret和signature两种类型
type: docker # 定义流水线类型，还有kubernetes、exec、ssh等类型
name: 力扣备份 # 定义流水线名称
steps:
  - name: 力扣备份
    image: harbor.wsh-study.com/public/ubuntu:20.05
    commands:
      - ls   
      - export LC_ALL="C.UTF-8"
      - cd /root/xp-study/LeeteCode/
      - git pull 
      - rm -rf /drone/src/.git
      - cp -r /drone/src/ /root/xp-study/LeeteCode/
      - git add .
      - git commit -m  ${DRONE_COMMIT}
      - git push

image_pull_secrets:
  - dockerconfigjson